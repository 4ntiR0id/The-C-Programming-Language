/*
 * ============================================================================
 * Chapter 1: Introduction
 * Section 1.3: The for Statement
 * Topic: Comparison between for and while
 * ============================================================================
 * 
 * لماذا هذه المقارنة مهمة؟
 * ---------------------------
 * - for و while يمكن أن تحققا نفس النتيجة
 * - فهم العلاقة بينهما يساعدك على اختيار الأنسب
 * - معرفة التحويل بينهما يعمق فهمك لكيفية عمل الحلقات
 * 
 * متى نستخدم كل واحدة؟
 * -----------------------
 * for:  عندما نعرف عدد التكرارات أو نحتاج عداد واضح
 * while: عندما نكرر حتى يتحقق شرط معين (غير مرتبط بعداد)
 * 
 * ============================================================================
 */

main()
{
    int i, fahr, celsius;
    int lower, upper, step;
    
    /*
     * ============================================================================
     * المثال الأول: نفس الحلقة بطريقتين
     * ============================================================================
     */
    
    printf("Example 1: Printing numbers 1 to 5\n");
    printf("===================================\n\n");
    
    /*
     * الطريقة الأولى: باستخدام while
     * --------------------------------
     */
    printf("Using while:\n");
    
    i = 1;                  /* التهيئة: قبل الحلقة */
    while (i <= 5) {        /* الشرط: في بداية while */
        printf("%d\n", i);
        i = i + 1;          /* التحديث: داخل الحلقة */
    }
    
    printf("\n");
    
    
    /*
     * الطريقة الثانية: باستخدام for
     * -------------------------------
     */
    printf("Using for:\n");
    
    for (i = 1; i <= 5; i = i + 1) {  /* التهيئة، الشرط، التحديث معاً */
        printf("%d\n", i);
    }
    
    printf("\n");
    
    /*
     * الملاحظة:
     * ---------
     * كلا الحلقتين تنتج نفس الخرج تماماً!
     * لكن for أكثر إيجازاً ووضوحاً عندما نحتاج عداد
     */
    
    
    /*
     * ============================================================================
     * التحويل بين for و while
     * ============================================================================
     * 
     * أي حلقة for يمكن كتابتها كـ while:
     * 
     * for (init; condition; increment) {      |    init;
     *     statement;                          |    while (condition) {
     * }                                       |        statement;
     *                                         |        increment;
     *                                         |    }
     * 
     * القاعدة:
     * --------
     * 1. ضع التهيئة قبل while
     * 2. ضع الشرط في while
     * 3. ضع التحديث في نهاية جسم while
     */
    
    
    /*
     * ============================================================================
     * المثال الثاني: جدول Fahrenheit-Celsius
     * ============================================================================
     */
    
    lower = 0;
    upper = 100;
    step = 20;
    
    printf("Temperature Table Comparison\n");
    printf("============================\n\n");
    
    
    /*
     * الطريقة الأولى: while
     * ---------------------
     */
    printf("Using while:\n");
    printf("Fahr\tCels\n");
    
    fahr = lower;                           /* التهيئة */
    while (fahr <= upper) {                 /* الشرط */
        celsius = 5 * (fahr - 32) / 9;
        printf("%d\t%d\n", fahr, celsius);
        fahr = fahr + step;                 /* التحديث */
    }
    
    printf("\n");
    
    
    /*
     * الطريقة الثانية: for
     * --------------------
     */
    printf("Using for:\n");
    printf("Fahr\tCels\n");
    
    for (fahr = lower; fahr <= upper; fahr = fahr + step) {
        celsius = 5 * (fahr - 32) / 9;
        printf("%d\t%d\n", fahr, celsius);
    }
    
    printf("\n");
    
    
    /*
     * ============================================================================
     * متى نفضل while؟
     * ============================================================================
     */
    
    printf("Example: When to prefer while\n");
    printf("=============================\n\n");
    
    /*
     * مثال: قراءة مدخلات حتى الوصول لقيمة معينة
     * 
     * في هذه الحالة، while أوضح لأننا:
     * - لا نحتاج عداد
     * - لا نعرف عدد التكرارات مسبقاً
     * - الشرط هو الأهم (ليس العداد)
     */
    
    int value;
    value = 0;
    
    printf("Doubling until >= 100:\n");
    
    /*
     * while منطقية أكثر هنا:
     * - الشرط واضح: طالما value أقل من 100
     * - لا يوجد عداد منتظم
     * - التحديث ليس بسيطاً (نضرب في 2)
     */
    value = 1;
    while (value < 100) {
        printf("%d\n", value);
        value = value * 2;  /* التحديث غير منتظم */
    }
    
    printf("\n");
    
    
    /*
     * ============================================================================
     * متى نفضل for؟
     * ============================================================================
     */
    
    printf("Example: When to prefer for\n");
    printf("===========================\n\n");
    
    /*
     * مثال: معالجة مجموعة معروفة من القيم
     * 
     * for أفضل عندما:
     * - نعرف عدد التكرارات
     * - نحتاج عداد واضح
     * - التحديث منتظم (مثل +1 أو +10)
     */
    
    printf("Sum of first 10 numbers:\n");
    
    int sum;
    sum = 0;
    
    /*
     * for واضحة ومباشرة هنا:
     * - نبدأ من 1
     * - نصل إلى 10
     * - نزيد بمقدار 1
     * كل شيء واضح في سطر واحد
     */
    for (i = 1; i <= 10; i = i + 1) {
        sum = sum + i;
    }
    
    printf("Sum = %d\n\n", sum);
    
    
    /*
     * ============================================================================
     * المقارنة العملية: نفس المهمة بالطريقتين
     * ============================================================================
     */
    
    printf("Practical Comparison: Printing even numbers\n");
    printf("===========================================\n\n");
    
    
    /* باستخدام while: */
    printf("Using while:\n");
    i = 0;
    while (i <= 10) {
        printf("%d ", i);
        i = i + 2;
    }
    printf("\n\n");
    
    
    /* باستخدام for: */
    printf("Using for:\n");
    for (i = 0; i <= 10; i = i + 2) {
        printf("%d ", i);
    }
    printf("\n\n");
    
    /*
     * في هذه الحالة، for أفضل لأن:
     * - العداد واضح (i من 0 إلى 10)
     * - التحديث منتظم (+2)
     * - كل معلومات الحلقة في سطر واحد
     */
    
    
    /*
     * ============================================================================
     * حالة خاصة: الحلقة اللانهائية
     * ============================================================================
     */
    
    printf("Infinite loops (not executed here):\n\n");
    
    /*
     * باستخدام while:
     * 
     * while (1) {
     *     // الشرط دائماً صحيح
     *     // الحلقة لن تتوقف
     * }
     */
    
    /*
     * باستخدام for:
     * 
     * for (;;) {
     *     // لا يوجد شرط = الحلقة لا تتوقف
     * }
     */
    
    printf("Both while(1) and for(;;) create infinite loops\n\n");
    
    
    /*
     * ============================================================================
     * مثال نهائي: تحويل معقد بين for و while
     * ============================================================================
     */
    
    printf("Complex example: Factorial\n");
    printf("==========================\n\n");
    
    int n, factorial;
    n = 5;
    
    
    /* باستخدام for: */
    factorial = 1;
    for (i = 1; i <= n; i = i + 1) {
        factorial = factorial * i;
    }
    printf("Using for: %d! = %d\n", n, factorial);
    
    
    /* نفس الشيء باستخدام while: */
    factorial = 1;
    i = 1;                          /* التهيئة */
    while (i <= n) {                /* الشرط */
        factorial = factorial * i;
        i = i + 1;                  /* التحديث */
    }
    printf("Using while: %d! = %d\n", n, factorial);
}

/*
 * ============================================================================
 * Expected Output:
 * ============================================================================
 * Example 1: Printing numbers 1 to 5
 * ===================================
 * 
 * Using while:
 * 1
 * 2
 * 3
 * 4
 * 5
 * 
 * Using for:
 * 1
 * 2
 * 3
 * 4
 * 5
 * 
 * Temperature Table Comparison
 * ============================
 * 
 * Using while:
 * Fahr	Cels
 * 0	-17
 * 20	-6
 * 40	4
 * 60	15
 * 80	26
 * 100	37
 * 
 * Using for:
 * Fahr	Cels
 * 0	-17
 * 20	-6
 * 40	4
 * 60	15
 * 80	26
 * 100	37
 * 
 * Example: When to prefer while
 * =============================
 * 
 * Doubling until >= 100:
 * 1
 * 2
 * 4
 * 8
 * 16
 * 32
 * 64
 * 
 * Example: When to prefer for
 * ===========================
 * 
 * Sum of first 10 numbers:
 * Sum = 55
 * 
 * Practical Comparison: Printing even numbers
 * ===========================================
 * 
 * Using while:
 * 0 2 4 6 8 10 
 * 
 * Using for:
 * 0 2 4 6 8 10 
 * 
 * Infinite loops (not executed here):
 * 
 * Both while(1) and for(;;) create infinite loops
 * 
 * Complex example: Factorial
 * ==========================
 * 
 * Using for: 5! = 120
 * Using while: 5! = 120
 * 
 * ============================================================================
 * ملخص المقارنة:
 * ============================================================================
 * 
 * استخدم for عندما:
 * -----------------
 * 1. تعرف عدد التكرارات مسبقاً
 * 2. تحتاج عداد واضح يبدأ وينتهي عند قيم معينة
 * 3. التحديث منتظم (+1, +5, *2, إلخ)
 * 4. تريد كل معلومات الحلقة في مكان واحد
 * 
 * أمثلة: الجداول، معالجة مدى معين، العد من X إلى Y
 * 
 * 
 * استخدم while عندما:
 * --------------------
 * 1. لا تعرف عدد التكرارات مسبقاً
 * 2. الشرط أهم من العداد
 * 3. التكرار يعتمد على حالة معينة وليس عداد
 * 4. التحديث معقد أو غير منتظم
 * 
 * أمثلة: قراءة مدخلات حتى نهاية الملف، البحث عن قيمة،
 *        الانتظار حتى يتحقق شرط
 * 
 * 
 * التحويل بينهما:
 * ----------------
 * for (A; B; C) {          →       A;
 *     D;                           while (B) {
 * }                                    D;
 *                                      C;
 *                                  }
 * 
 * القاعدة العامة:
 * ---------------
 * - إذا كان الكود يبدو أوضح مع for، استخدم for
 * - إذا كان يبدو أوضح مع while، استخدم while
 * - كلاهما صحيح، الوضوح هو المعيار!
 * 
 * ============================================================================
 * ملاحظات إضافية:
 * ============================================================================
 * 
 * 1. الأداء (Performance)
 *    - for و while لهما نفس الأداء تماماً
 *    - المترجم يحولهما لنفس الكود الآلي
 * 
 * 2. القراءة والفهم
 *    - for تجمع كل شيء في سطر → سهل تتبع العداد
 *    - while تفصل الأجزاء → قد يكون أوضح للمنطق المعقد
 * 
 * 3. الأخطاء الشائعة
 *    - نسيان التحديث في while → حلقة لانهائية
 *    - for يجبرك على التفكير في التحديث منذ البداية
 * 
 * 4. الأسلوب في K&R
 *    - الكتاب يستخدم for للجداول والعد المنتظم
 *    - يستخدم while للشروط الأكثر تعقيداً
 * 
 * ============================================================================
 */
