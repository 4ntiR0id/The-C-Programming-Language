/*
 * ============================================================================
 * Chapter 1: Introduction
 * Section 1.6: Arrays
 * Topic: Array declaration
 * ============================================================================
 * 
 * ما هي المصفوفة (Array)؟
 * -------------------------
 * المصفوفة هي مجموعة من المتغيرات من نفس النوع، مخزنة بشكل متتالي في الذاكرة.
 * كل عنصر له رقم (index) يبدأ من 0.
 * 
 * لماذا نحتاج المصفوفات؟
 * ------------------------
 * - تخزين مجموعات من البيانات المتشابهة
 * - تنظيم البيانات بشكل منطقي
 * - معالجة كميات كبيرة من البيانات بكفاءة
 * - تجنب إنشاء عشرات المتغيرات المنفصلة
 * 
 * مثال على المشكلة بدون مصفوفات:
 * ----------------------------------
 * لو أردنا تخزين درجات 100 طالب:
 * int grade1, grade2, grade3, ..., grade100;  ← مستحيل عملياً!
 * 
 * الحل: int grades[100];  ← مصفوفة واحدة!
 * 
 * ============================================================================
 */

main()
{
    /*
     * ============================================================================
     * الإعلان عن المصفوفات (Array Declaration)
     * ============================================================================
     * 
     * الصيغة:
     * -------
     * type name[size];
     * 
     * type: نوع البيانات (int, float, char, إلخ)
     * name: اسم المصفوفة
     * size: عدد العناصر (يجب أن يكون عدداً صحيحاً ثابتاً)
     */
    
    
    /*
     * ============================================================================
     * مثال 1: مصفوفة أعداد صحيحة
     * ============================================================================
     */
    
    /*
     * إعلان مصفوفة من 10 أعداد صحيحة:
     * ---------------------------------
     * int numbers[10];
     * 
     * ماذا يعني هذا؟
     * - numbers: اسم المصفوفة
     * - [10]: المصفوفة تحتوي على 10 عناصر
     * - العناصر مرقمة من 0 إلى 9
     * 
     * لماذا من 0؟
     * - في C، الفهرسة (indexing) تبدأ دائماً من 0
     * - العنصر الأول: numbers[0]
     * - العنصر الأخير: numbers[9]
     */
    int numbers[10];
    
    printf("Example 1: Basic array operations\n");
    printf("==================================\n\n");
    
    
    /*
     * ============================================================================
     * الوصول لعناصر المصفوفة (Array Access)
     * ============================================================================
     * 
     * نستخدم [] مع رقم العنصر (index)
     */
    
    /*
     * تخزين قيم في المصفوفة:
     * -----------------------
     */
    numbers[0] = 10;    /* العنصر الأول */
    numbers[1] = 20;    /* العنصر الثاني */
    numbers[2] = 30;    /* العنصر الثالث */
    numbers[9] = 100;   /* العنصر العاشر (الأخير) */
    
    /*
     * قراءة قيم من المصفوفة:
     * -----------------------
     */
    printf("numbers[0] = %d\n", numbers[0]);
    printf("numbers[1] = %d\n", numbers[1]);
    printf("numbers[2] = %d\n", numbers[2]);
    printf("numbers[9] = %d\n\n", numbers[9]);
    
    
    /*
     * ============================================================================
     * مثال 2: ملء المصفوفة باستخدام حلقة
     * ============================================================================
     */
    
    int i;
    int squares[10];    /* لتخزين مربعات الأعداد من 0 إلى 9 */
    
    printf("Example 2: Filling array with loop\n");
    printf("===================================\n\n");
    
    /*
     * ملء المصفوفة:
     * ------------
     * نستخدم حلقة for للوصول لكل عنصر
     */
    for (i = 0; i < 10; i = i + 1) {
        /*
         * لماذا i < 10 وليس i <= 10؟
         * - العناصر مرقمة من 0 إلى 9
         * - لو استخدمنا i <= 10، سنحاول الوصول لـ squares[10]
         * - squares[10] خارج حدود المصفوفة! (خطأ)
         */
        squares[i] = i * i;
    }
    
    /*
     * طباعة المصفوفة:
     */
    printf("Squares:\n");
    for (i = 0; i < 10; i = i + 1) {
        printf("%d: %d\n", i, squares[i]);
    }
    printf("\n");
    
    
    /*
     * ============================================================================
     * مثال 3: حساب مجموع عناصر المصفوفة
     * ============================================================================
     */
    
    int grades[5];
    int sum;
    float average;
    
    printf("Example 3: Sum and average\n");
    printf("==========================\n\n");
    
    /*
     * إدخال القيم:
     */
    grades[0] = 85;
    grades[1] = 90;
    grades[2] = 78;
    grades[3] = 92;
    grades[4] = 88;
    
    /*
     * حساب المجموع:
     */
    sum = 0;
    for (i = 0; i < 5; i = i + 1) {
        /*
         * نجمع كل عنصر على المجموع الحالي
         */
        sum = sum + grades[i];
    }
    
    /*
     * حساب المعدل:
     */
    average = sum / 5.0;    /* 5.0 لجعلها قسمة عشرية */
    
    printf("Grades: ");
    for (i = 0; i < 5; i = i + 1) {
        printf("%d ", grades[i]);
    }
    printf("\nSum: %d\n", sum);
    printf("Average: %.2f\n\n", average);
    
    
    /*
     * ============================================================================
     * مثال 4: البحث في المصفوفة
     * ============================================================================
     */
    
    int data[8];
    int target;
    int found;
    
    printf("Example 4: Searching in array\n");
    printf("=============================\n\n");
    
    /*
     * ملء المصفوفة ببيانات:
     */
    data[0] = 12;
    data[1] = 45;
    data[2] = 23;
    data[3] = 67;
    data[4] = 89;
    data[5] = 34;
    data[6] = 56;
    data[7] = 78;
    
    /*
     * البحث عن قيمة:
     */
    target = 67;
    found = -1;    /* -1 تعني "لم نجده بعد" */
    
    for (i = 0; i < 8; i = i + 1) {
        if (data[i] == target) {
            /*
             * وجدنا القيمة!
             * نحفظ موقعها (index)
             */
            found = i;
            /*
             * لا حاجة للبحث بعد ذلك
             * (سنتعلم break لاحقاً للخروج من الحلقة)
             */
        }
    }
    
    if (found != -1) {
        printf("Found %d at index %d\n\n", target, found);
    } else {
        printf("%d not found\n\n", target);
    }
    
    
    /*
     * ============================================================================
     * مثال 5: إيجاد أكبر عنصر
     * ============================================================================
     */
    
    int values[6];
    int max;
    int max_index;
    
    printf("Example 5: Finding maximum\n");
    printf("==========================\n\n");
    
    values[0] = 34;
    values[1] = 78;
    values[2] = 12;
    values[3] = 95;  /* هذا هو الأكبر */
    values[4] = 56;
    values[5] = 23;
    
    /*
     * نفترض أن أول عنصر هو الأكبر:
     */
    max = values[0];
    max_index = 0;
    
    /*
     * نتفحص باقي العناصر:
     */
    for (i = 1; i < 6; i = i + 1) {
        /*
         * لماذا نبدأ من i = 1؟
         * - لأننا افترضنا values[0] هو الأكبر
         * - لا حاجة لمقارنته مع نفسه
         */
        if (values[i] > max) {
            /*
             * وجدنا عنصر أكبر!
             */
            max = values[i];
            max_index = i;
        }
    }
    
    printf("Values: ");
    for (i = 0; i < 6; i = i + 1) {
        printf("%d ", values[i]);
    }
    printf("\nMaximum: %d at index %d\n\n", max, max_index);
    
    
    /*
     * ============================================================================
     * مثال 6: نسخ مصفوفة لأخرى
     * ============================================================================
     */
    
    int source[5];
    int destination[5];
    
    printf("Example 6: Copying arrays\n");
    printf("=========================\n\n");
    
    /*
     * ملء المصفوفة المصدر:
     */
    for (i = 0; i < 5; i = i + 1) {
        source[i] = i * 10;
    }
    
    /*
     * نسخ العناصر:
     * -----------
     * لا يمكننا كتابة: destination = source;  ← خطأ!
     * يجب نسخ كل عنصر على حدة
     */
    for (i = 0; i < 5; i = i + 1) {
        destination[i] = source[i];
    }
    
    printf("Source:      ");
    for (i = 0; i < 5; i = i + 1) {
        printf("%d ", source[i]);
    }
    
    printf("\nDestination: ");
    for (i = 0; i < 5; i = i + 1) {
        printf("%d ", destination[i]);
    }
    printf("\n\n");
    
    
    /*
     * ============================================================================
     * مثال 7: عكس عناصر المصفوفة
     * ============================================================================
     */
    
    int original[5];
    int temp;
    
    printf("Example 7: Reversing array\n");
    printf("==========================\n\n");
    
    /*
     * القيم الأصلية:
     */
    original[0] = 10;
    original[1] = 20;
    original[2] = 30;
    original[3] = 40;
    original[4] = 50;
    
    printf("Before: ");
    for (i = 0; i < 5; i = i + 1) {
        printf("%d ", original[i]);
    }
    printf("\n");
    
    /*
     * عكس المصفوفة:
     * -------------
     * نبادل العنصر الأول مع الأخير، الثاني مع قبل الأخير، إلخ
     */
    for (i = 0; i < 5 / 2; i = i + 1) {
        /*
         * لماذا 5 / 2؟
         * - نحتاج فقط للمرور على نصف المصفوفة
         * - لو مررنا على كل المصفوفة، سنعكسها مرتين (تعود كما كانت)
         * 
         * المبادلة:
         * temp = original[i];
         * original[i] = original[4-i];
         * original[4-i] = temp;
         * 
         * مثال عند i=0:
         * - نبادل original[0] مع original[4]
         * مثال عند i=1:
         * - نبادل original[1] مع original[3]
         */
        temp = original[i];
        original[i] = original[4 - i];
        original[4 - i] = temp;
    }
    
    printf("After:  ");
    for (i = 0; i < 5; i = i + 1) {
        printf("%d ", original[i]);
    }
    printf("\n\n");
}


/*
 * ============================================================================
 * أنواع مختلفة من المصفوفات
 * ============================================================================
 */

different_array_types()
{
    /*
     * مصفوفة أعداد عشرية:
     */
    float temperatures[7];  /* درجات الحرارة لأيام الأسبوع */
    
    /*
     * مصفوفة أحرف:
     */
    char letters[26];       /* حروف الأبجدية */
    
    /*
     * مصفوفة كبيرة:
     */
    int big_array[1000];    /* 1000 عنصر */
    
    int i;
    
    printf("Example 8: Different array types\n");
    printf("=================================\n\n");
    
    /*
     * ملء مصفوفة العشريات:
     */
    temperatures[0] = 20.5;
    temperatures[1] = 22.3;
    temperatures[2] = 19.8;
    temperatures[3] = 21.0;
    temperatures[4] = 23.5;
    temperatures[5] = 24.2;
    temperatures[6] = 20.9;
    
    printf("Temperatures:\n");
    for (i = 0; i < 7; i = i + 1) {
        printf("Day %d: %.1f°C\n", i + 1, temperatures[i]);
    }
    printf("\n");
    
    /*
     * ملء مصفوفة الأحرف:
     */
    for (i = 0; i < 26; i = i + 1) {
        /*
         * 'A' + i يعطينا الحروف بالترتيب:
         * 'A' + 0 = 'A'
         * 'A' + 1 = 'B'
         * إلخ
         */
        letters[i] = 'A' + i;
    }
    
    printf("Letters: ");
    for (i = 0; i < 26; i = i + 1) {
        printf("%c ", letters[i]);
    }
    printf("\n\n");
}


/*
 * ============================================================================
 * Expected Output:
 * ============================================================================
 * Example 1: Basic array operations
 * ==================================
 * 
 * numbers[0] = 10
 * numbers[1] = 20
 * numbers[2] = 30
 * numbers[9] = 100
 * 
 * Example 2: Filling array with loop
 * ===================================
 * 
 * Squares:
 * 0: 0
 * 1: 1
 * 2: 4
 * 3: 9
 * 4: 16
 * 5: 25
 * 6: 36
 * 7: 49
 * 8: 64
 * 9: 81
 * 
 * Example 3: Sum and average
 * ==========================
 * 
 * Grades: 85 90 78 92 88 
 * Sum: 433
 * Average: 86.60
 * 
 * Example 4: Searching in array
 * =============================
 * 
 * Found 67 at index 3
 * 
 * Example 5: Finding maximum
 * ==========================
 * 
 * Values: 34 78 12 95 56 23 
 * Maximum: 95 at index 3
 * 
 * Example 6: Copying arrays
 * =========================
 * 
 * Source:      0 10 20 30 40 
 * Destination: 0 10 20 30 40 
 * 
 * Example 7: Reversing array
 * ==========================
 * 
 * Before: 10 20 30 40 50 
 * After:  50 40 30 20 10 
 * 
 * Example 8: Different array types
 * =================================
 * 
 * Temperatures:
 * Day 1: 20.5°C
 * Day 2: 22.3°C
 * Day 3: 19.8°C
 * Day 4: 21.0°C
 * Day 5: 23.5°C
 * Day 6: 24.2°C
 * Day 7: 20.9°C
 * 
 * Letters: A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 
 * 
 * ============================================================================
 * ملاحظات مهمة:
 * ============================================================================
 * 
 * 1. الفهرسة (Indexing):
 *    - تبدأ دائماً من 0
 *    - مصفوفة حجمها n: عناصر من [0] إلى [n-1]
 *    - الوصول لـ [n] خطأ! (خارج الحدود)
 * 
 * 2. الحجم (Size):
 *    - يجب أن يكون ثابتاً عند الإعلان
 *    - int arr[10]; ← صحيح
 *    - int arr[n];  ← خطأ في K&R الأولى (n متغير)
 * 
 * 3. التهيئة (Initialization):
 *    - المصفوفات المحلية غير مُهيأة تلقائياً
 *    - قد تحتوي قيم عشوائية
 *    - يجب تهيئتها قبل الاستخدام
 * 
 * 4. الحدود (Bounds):
 *    - C لا تفحص حدود المصفوفة!
 *    - الوصول لعنصر خارج الحدود = سلوك غير محدد
 *    - مسؤوليتك التأكد من عدم تجاوز الحدود
 * 
 * 5. العمليات:
 *    - لا يمكن إسناد مصفوفة كاملة: arr2 = arr1; ← خطأ
 *    - لا يمكن مقارنة مصفوفات: arr1 == arr2; ← خطأ
 *    - يجب معالجة كل عنصر على حدة
 * 
 * 6. الحلقات:
 *    - for هي الأفضل للمرور على المصفوفات
 *    - تأكد من: i < size وليس i <= size
 * 
 * ============================================================================
 */
